\documentclass[kursovaya]{nanolab}

\usepackage[russian,english]{babel}
\usepackage{setspace}
\onehalfspacing

\usepackage{graphicx}
\usepackage{indentfirst}
\usepackage{array}
\usepackage[section]{placeins}
\usepackage{titlesec}
\titleformat{\section}[block]{\Large\bfseries\filcenter}{\thesection.}{1em}{}
\titleformat{\subsection}[hang]{\bfseries}{\thesubsection.}{1em}{}
\titleformat{\paragraph}[hang]{\small\bfseries}{}{1em}{}
\usepackage{caption}
\captionsetup{font={it, footnotesize}}
\allowdisplaybreaks

\bibliographystyle{nanolab}

\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\renewcommand{\subsectionmark}[1]{\markright{\thesubsection\ #1}}
\let\oldsection\section
\renewcommand{\section}{\FloatBarrier\newpage\oldsection}
\let\oldsubsection\subsection
\renewcommand{\subsection}[1]{\FloatBarrier\oldsubsection{#1}}
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\FloatBarrier\oldparagraph{#1}}

\newcommand{\No}{№}
\newcommand{\NoSpecial}{№}

\renewcommand{\nonumsection}[1]{
	\section*{#1}
	\addcontentsline{toc}{section}{#1}
	\markright{#1}
}
\usepackage{tocloft}
\setlength{\cftsecindent}{0pt}
\setlength{\cftsubsecindent}{1.5em}
\setlength{\cftparaindent}{3.0em}
\setlength{\cftsecnumwidth}{1.0em}
\setlength{\cftsubsecnumwidth}{1.5em}
\setlength{\cftparanumwidth}{2.5em}